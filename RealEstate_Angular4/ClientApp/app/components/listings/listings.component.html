<div>
    <h2>Listings!</h2>
    <p *ngIf="!listings"><em>Loading...</em></p>
    <table class='table' *ngIf="listings">
        <thead>
            <tr>
                <th>Property Type</th>
                <th>Address</th>
                <th>Bedrooms/Bathrooms</th>
                <th>Description</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let listing of listings" (click)="onSelect(listing)">
                <td>{{ listing.PropertyTypeId }}</td>
                <td>{{ listing.streetAddress }}<br />{{ listing.city }}, {{ listing.state }} {{ listing.zipCode }}</td>
                <td>{{ listing.bedrooms }}/{{ listing.bathrooms }}</td>
                <td>{{ listing.description }}</td>
                <td>${{ listing.price }}</td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="selectedListing">
        <form (ngSubmit)="onSubmit()" ng-form="#listingForm">
            <div class="form-group">
                <label for="mls">MLS</label>
                <input name="mls" id="mls" type="text" [(ngModel)]="selectedListing.mls" />
            </div>
            <div class="form-group">
                <label for="streetAddress">Street Address</label>
                <input name="streetAddress" id="streetAddress" type="text" [(ngModel)]="selectedListing.streetAddress" />
            </div>
            <div class="form-group">
                <label for="streetAddress2">Street Address 2</label>
                <input name="streetAddress2" id="streetAddress2" type="text" [(ngModel)]="selectedListing.streetAddress2" />
            </div>
            <div class="form-group">
                <label for="city">City</label>
                <input name="city" id="city" type="text" [(ngModel)]="selectedListing.city" />
            </div>
            <div class="form-group">
                <label for="state">State</label>
                <input name="state" id="state" type="text" [(ngModel)]="selectedListing.state" />
            </div>
            <div class="form-group">
                <label for="zipCode">Zip Code</label>
                <input name="zipCode" id="zipCode" type="text" [(ngModel)]="selectedListing.zipCode" />
            </div>
            <div class="form-group">
                <label for="price">Price</label>
                <input name="price" id="price" type="text" [(ngModel)]="selectedListing.price" />
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input name="description" id="description" type="text" [(ngModel)]="selectedListing.description" />
            </div>
            <div class="form-group">
                <label for="mainImage">Main Image</label>
                <input name="mainImage" id="mainImage" type="text" [(ngModel)]="selectedListing.mainImage" />
            </div>
            <div class="form-group">
                <button type="submit" title="Submit" class="btn btn-primary btn-lg">
                    Submit
                </button>
                <button type="button" title="Cancel" class="btn btn-primary btn-lg" (click)="onCancelClick()">
                    Cancel
                </button>
            </div>

        </form>
    </div>
</div>